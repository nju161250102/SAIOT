# 模块设计与划分

### 总览

- 虚拟设备：数据提供者，MQTT服务器
- 设备控制中心：设备管理，MQTT客户端
- 规则引擎：durable_rules实现
- 数据处理：接收规则引擎的结果

### 虚拟设备

使用MQTT服务器设定绑定IP和频道（如果不能绑定到不同端口就绑定到不同频道）

定时向频道中发送按一定规律生成的数据

### 设备控制中心

使用MQTT客户端监听对应的频道

能够添加/删除设备，返回设备列表，显示设备状态（可能需要单独的心跳频道）

使用`durable_rules`中的`post`方法向规则引擎发送某一时间的所有数据

### 规则引擎

使用`durable_rules`处理相关数据并将结果转发到数据中心

### 数据处理

保存处理后的数据

显示前端页面

